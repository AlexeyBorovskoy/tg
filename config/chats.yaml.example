# ==============================================================================
# chats.yaml — Конфигурация Telegram-чатов для мониторинга
# ==============================================================================
# Этот файл определяет, какие чаты анализировать.
# Один промпт может использоваться несколькими чатами.
#
# ВАЖНО: Скопируйте в chats.yaml и настройте под свои чаты.
# ==============================================================================

chats:
  # ------------------------------------------------------------------------------
  # Пример чата 1: АСУДД Основной
  # ------------------------------------------------------------------------------
  - id: -1002700886173                    # peer_id канала (получить через list_dialogs.py)
    name: "АСУДД Основной"                # Человекочитаемое название
    description: "Основной канал команды" # Описание (опционально)
    enabled: true                         # true = активен, false = отключён
    peer_type: "channel"                  # channel | chat | group
    prompt_file: "prompts/digest_management.md"  # Промпт дайджеста (управленческий)
    poll_interval_minutes: 30             # Как часто проверять новые сообщения
    recipients_group: "leads"             # Группа получателей из recipients.yaml
    # Сводный инженерный документ по чату (docs-as-code): перезапись раз в цикл
    consolidated_doc_path: "docs/reference/asudd_engineering.md"
    consolidated_doc_prompt_file: "prompts/consolidated_engineering.md"

  # ------------------------------------------------------------------------------
  # Пример чата 2: Поддержка (отключён)
  # ------------------------------------------------------------------------------
  - id: -1001234567890
    name: "Поддержка"
    description: "Канал техподдержки"
    enabled: false                        # Отключён — не будет обрабатываться
    peer_type: "channel"
    prompt_file: "prompts/support.md"
    poll_interval_minutes: 60
    recipients_group: "support_team"

# ==============================================================================
# Как получить peer_id канала:
# ==============================================================================
# 1. Запустите: python scripts/list_dialogs.py
# 2. Найдите нужный канал/чат в списке
# 3. Используйте значение peer_id (обычно отрицательное, например -1002700886173)
#
# Формат peer_id:
# - Каналы/супергруппы: -100XXXXXXXXXX (начинается с -100)
# - Обычные группы: отрицательное число
# - Личные чаты: положительное число (ID пользователя)
# ==============================================================================
